---
import {
    getLangFromUrl,
    useTranslations,
    getRelativeLocaleUrl,
} from "../../i18n/utils";
import { siteConfig } from "../../site.config";

import Logo from "./Logo.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const year = new Date().getFullYear();
import { getAllActiveSocials } from "../../utils/social";
---

<footer class="bg-gunmetal border-t border-light/5 mt-auto py-12">
    <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-6"
    >
        <div class="flex flex-col items-center md:items-start gap-2">
            <a
                href={getRelativeLocaleUrl(lang, "")}
                class="group flex items-center gap-2 hover:opacity-80 transition-opacity"
                aria-label={siteConfig.name}
            >
                <Logo width="32" height="32" variant="original" />
                <span
                    class="text-lg font-heading font-bold text-light tracking-tighter group-hover:text-gold transition-colors"
                >
                    {siteConfig.alias}<span class="text-gold">.</span>
                </span>
            </a>
            <p class="text-sm text-gray-400 mt-2">
                {t("footer.copyright").replace("2026", year.toString())}
            </p>
        </div>

        <div
            class="flex flex-wrap gap-x-6 gap-y-2 justify-center md:justify-end"
        >
            {
                getAllActiveSocials().map((link) => (
                    <a
                        href={link.url}
                        target="_blank"
                        rel="noopener noreferrer"
                        class={`flex items-center gap-1 text-gray-400 ${link.colorClass || "hover:text-gold"} transition-colors text-sm font-medium group`}
                    >
                        <span class="w-5 h-5" set:html={link.icon} />
                        <span class="group-hover:text-white transition-colors">
                            {link.name}
                        </span>
                    </a>
                ))
            }
        </div>
    </div>
</footer>

---

---

<div
    id="lang-toast"
    class="fixed top-24 right-4 z-[60] transform translate-x-[120%] transition-transform duration-500 ease-out max-w-sm w-full"
>
    <div
        class="glass-card bg-[#0c111c]/90 backdrop-blur-xl border border-[#c08b5a] p-4 rounded-xl shadow-[0_0_20px_rgba(192,139,90,0.2)] flex items-start gap-3 relative overflow-hidden"
    >
        <!-- Glow effect -->
        <div
            class="absolute inset-0 bg-gradient-to-r from-[#c08b5a]/10 to-transparent pointer-events-none"
        >
        </div>

        <!-- Icon -->
        <div class="text-[#c08b5a] mt-0.5 shrink-0">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                viewBox="0 0 20 20"
                fill="currentColor"
            >
                <path
                    fill-rule="evenodd"
                    d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                    clip-rule="evenodd"></path>
            </svg>
        </div>

        <!-- Content -->
        <div class="flex-1 text-sm">
            <h4 class="font-bold text-white mb-1">Language Not Supported</h4>
            <p class="text-gray-300 leading-relaxed">
                Content is not available in <span
                    id="toast-lang"
                    class="font-mono text-[#c08b5a] font-bold"></span> yet. Showing
                English version.
            </p>
        </div>

        <!-- Close Button -->
        <button
            id="close-toast"
            class="text-gray-500 hover:text-white transition-colors shrink-0"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-4 w-4"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M6 18L18 6M6 6l12 12"></path>
            </svg>
        </button>
    </div>
</div>

<script>
    const urlParams = new URLSearchParams(window.location.search);
    const fallbackLang = urlParams.get("lang_fallback");
    const toast = document.getElementById("lang-toast");
    const langSpan = document.getElementById("toast-lang");
    const closeBtn = document.getElementById("close-toast");

    if (fallbackLang && toast && langSpan) {
        // Get full language name using Intl.DisplayNames
        let langName = fallbackLang;
        try {
            const displayNames = new Intl.DisplayNames(["en"], {
                type: "language",
            });
            langName = displayNames.of(fallbackLang) || fallbackLang;
        } catch (e) {
            console.warn("Intl.DisplayNames not supported or invalid code", e);
        }

        // Set language
        langSpan.textContent = langName;

        // Show toast after a small delay
        setTimeout(() => {
            toast.classList.remove("translate-x-[120%]");
        }, 500);

        // Auto hide after 6 seconds
        setTimeout(() => {
            hideToast();
        }, 6000);
    }

    function hideToast() {
        if (toast) {
            toast.classList.add("translate-x-[120%]");
            // Clean up URL param without refreshing
            const newUrl = window.location.pathname;
            window.history.replaceState({}, document.title, newUrl);
        }
    }

    closeBtn?.addEventListener("click", hideToast);
</script>
